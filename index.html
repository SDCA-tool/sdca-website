<?php include ('header.html'); ?>

<div id="application">

	<link rel="stylesheet" href="/js/lib/mapbox-gl-js/mapbox-gl.css" />
	<script src="/js/lib/mapbox-gl-js/mapbox-gl.min.js"></script>
	<script src="/js/lib/jquery/jquery.min.js"></script>
	
	<script src="/js/lib/jquery-ui/jquery-ui.min.js"></script>
	
	<script src="/js/lib/jQuery-Touch-Events/src/1.0.9/jquery.mobile-events.min.js"></script>
	
	<script src="/js/lib/mapbox-gl-draw/mapbox-gl-draw.js"></script>
	<link rel="stylesheet" href="/js/lib/mapbox-gl-draw/mapbox-gl-draw.css" />
	
	<script src="/js/lib/js-cookie/js.cookie.js"></script>
	
	<!-- Vex dialogs; see: https://github.hubspot.com/vex/ -->
	<script src="/js/lib/vex-4.1.0/dist/js/vex.combined.min.js"></script>
	<link rel="stylesheet" href="/js/lib/vex-4.1.0/dist/css/vex.css" />
	<link rel="stylesheet" href="/js/lib/vex-4.1.0/dist/css/vex-theme-plain.css" />
	
	<!-- GeoJSON extent library; see: https://github.com/mapbox/geojson-extent -->
	<script src="/js/lib/geojson-extent/geojson-extent.js"></script>
	
	<!-- LayerViewer library, providing the application logic -->
	<script src="/js/lib/Mapboxgljs.LayerViewer/src/layerviewer.js?220117"></script>
	<link rel="stylesheet" type="text/css" href="/js/lib/Mapboxgljs.LayerViewer/src/layerviewer.css?220117" />
	<script src="/js/lib/Mapboxgljs.LayerViewer/lib/geocoder.js"></script>
	
	<!-- Map application and its config, implementing the LayerViewer library -->
	<script src="/.config.js"></script>
	<script src="/js/sdca.js?220117"></script>
	<link rel="stylesheet" type="text/css" href="/css/style.css" />
	<script>
		$(function() {
			sdca.initialise (config);
		});
	</script>
		
		<form id="data">
		
			<nav>
				
				<div id="selector">
					<ul>
						<li class="trafficcounts">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_trafficcounts" />
							<a href="#trafficcounts" title="Traffic data" class="tooltip"><img src="/images/osm/transport_car_share.p.64.png" alt="" /><br />Traffic counts</a>
						</li>
						<li class="planningapplications">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_planningapplications" />
							<a href="#planningapplications" title="Planning applications" class="tooltip"><img src="/images/osm/accommodation_youth_hostel.p.64.png" alt="" /><br />Planning applications</a>
						</li>
						
						<!-- Template -->
						<li class="template">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_template" />
							<a href="#template" title="Template" class="tooltip"><img src="/images/osm/template.png" alt="" /><br />Template</a>
						</li>
					</ul>
				</div>
				
				<div id="drawing">
					<div class="panes">
						<div class="pane">
							<h3>Draw line</h3>
							<div id="drawingcontrols">
								<ul>
									<li><a><span class="draw line"></span>draw line</a></li>
								</ul>
							</div>
							<!--
							<p>Click the points to mark an area on the map.</p>
							<p>Double-click to complete the shape.</p>
							<p>Zoom in and pan to select the correct area.</p>
							-->
							<input id="geometry" name="loc_json" type="hidden" value="" />
						</div>
					</div>
					<ul class="undo-clear">
						<!--<li><a class="edit-undo"><span class="icon-undo"></span><span class="txt">undo</span></a></li>-->
						<li><a class="edit-clear"><span class="icon-clear"></span><span class="txt">clear</span></a></li>
					</ul>
				</div>
				
				<div id="sections">
					
					<div id="trafficcounts">
						<h2>Traffic counts</h2>
						<p>This map contains official traffic counts of all main roads in the UK, for each type of vehicle. This is a visualisation of the DfT's AADF (Annual Average Daily Flows) data. Figures are average daily counts.</p>
					</div>
					
					<div id="planningapplications">
						<h2>Planning applications</h2>
						<p>New developments have the potential to worsen traffic conditions, but can also bring opportunities to fund infrastructure improvements.</p>
						
						<div class="filters">
							<h3>Filters:</h3>
							
							<h4>Size of development:</h4>
							<ul class="controls">
								<li><label><input type="checkbox" name="app_size[]" value="Small">Small</label></li>
								<li><label><input type="checkbox" name="app_size[]" value="Medium">Medium</label></li>
								<li><label><input type="checkbox" name="app_size[]" checked="checked" value="Large">Large</label></li>
							</ul>
							
							<h4>Status</h4>
							<ul class="controls">
								<li><label><input type="checkbox" checked="checked" name="app_state[]" value="Undecided" />Current</label></li>
								<li><label><input type="checkbox" checked="checked" name="app_state[]" value="Permitted,Conditions,Rejected,Withdrawn,Other" />Decided</label></li>
							</ul>
							
							<div id="dateRange">
								<h4>Between dates:</h4>
								<div class="controls">
									<label for="planningapplications_start_date">From: </label><input type="date" name="start_date" id="planningapplications_start_date" /><br />
									<label for="planningapplications_end_date">To: </label><input type="date" name="end_date" id="planningapplications_end_date" />
								</div>
							</div>
							
						</div>
						
					</div>
					
					<!-- Template -->
					<div class="template">
						<h2>Title</h2>
						<p>Description</p>
					</div>
					
				</div>
				
				<div id="results">
					<h3>Results [example]</h3>
					<p class="netzero_compatible">Net zero compatible?&nbsp; <span>?</span></p>
					<p class="payback_time">Payback time: <strong><span>?</span> years</strong></p>
					<p class="emissions_whole_life">Whole life emissions: <strong><span>?</span> MtCO<sub>2</sub>e</strong></p>
					<p class="comments">Comments:<br /><span>?</span></p>
					<div class="pas2080"></div>
					<div class="timeseries"></div>
				</div>
			</nav>
			
			<div id="geocoder" class="geocoder">
				<input type="text" name="location" autocomplete="off" placeholder="Search locations and move map" tabindex="1" spellcheck="false" />
			</div>
			
			<div id="map" class="map">
			</div>
			
		</form>


</div>

<?php include ('footer.html'); ?>
