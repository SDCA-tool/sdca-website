<!DOCTYPE html>
<html lang="en" class="govuk-template ">

<head>
  <meta charset="utf-8">
  <title>SDCA Carbon Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="theme-color" content="#0b0c0c">

  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <link rel="shortcut icon" sizes="16x16 32x32 48x48" href="/favicon.ico" type="image/x-icon">
  <link rel="mask-icon" href="/assets/images/govuk-mask-icon.svg" color="#0b0c0c">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/govuk-apple-touch-icon-180x180.png">
  <link rel="apple-touch-icon" sizes="167x167" href="/assets/images/govuk-apple-touch-icon-167x167.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/images/govuk-apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" href="/assets/images/govuk-apple-touch-icon.png">

  <!--[if !IE 8]><!-->
  <link href="/stylesheets/govuk-frontend-4.0.0.min.css" rel="stylesheet">
  <!--<![endif]-->

  <!--[if IE 8]>
    <link href="/stylesheets/govuk-frontend-ie8-4.0.0.min.css" rel="stylesheet">
  <![endif]-->

  <!--[if lt IE 9]>
    <script src="/html5-shiv/html5shiv.js"></script>
  <![endif]-->

  <!--
  <meta property="og:image" content="/assets/images/govuk-opengraph-image.png">
-->


</head>

<body class="govuk-template__body full-width">
  <script>
    document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');
  </script>

  <a href="#main-content" class="govuk-skip-link">Skip to main content</a>

  <header class="govuk-header" role="banner" data-module="govuk-header">
    <div class="govuk-header__container govuk-width-container">
      <div class="govuk-header__logo govuk-!-padding-2">
        <a href="/" class="govuk-header__link govuk-header__link--homepage">
          <span class="govuk-header__logotype">
            <span class="govuk-header__logotype-text">
              Shared Digital Carbon Architecture
            </span>
          </span>
        </a>
      </div>
      <div class="govuk-header__content">
        <nav aria-label="Menu" class="govuk-header__navigation ">
          <button type="button" class="govuk-header__menu-button govuk-js-header-toggle" aria-controls="navigation"
            aria-label="Show or hide menu">Menu</button>

          <ul id="navigation" class="govuk-header__navigation-list">
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/about/">
                About the tool
              </a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/methodology/">
                Methodology
              </a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/help/">
                Help
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </header>


  <div class="govuk-width-container">
    <div class="govuk-phase-banner govuk-!-padding-2 govuk-!-padding-left-2">
      <p class="govuk-phase-banner__content">
        <strong class="govuk-tag govuk-phase-banner__content__tag">
          alpha
        </strong>
        <span class="govuk-phase-banner__text">
          This is a new service â€“ your <a class="govuk-link" href="/contacts/">feedback</a> will help us to improve it.
          &nbsp; Calculations currently limited to a single 'Viaduct' intervention.
        </span>
      </p>
    </div>
    <main class="govuk-main-wrapper govuk-!-padding-0" id="main-content" role="main">




      <!-- Content starts here -->

      <link rel="stylesheet" href="/js/lib/mapbox-gl-js/mapbox-gl.css" />
      <script src="/js/lib/mapbox-gl-js/mapbox-gl.min.js"></script>
      <script src="/js/lib/jquery/jquery.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/jquery.scrollto@2.1.3/jquery.scrollTo.min.js"></script>

      <script src="/js/lib/jquery-ui/jquery-ui.min.js"></script>

      <script src="/js/lib/jQuery-Touch-Events/src/1.0.9/jquery.mobile-events.min.js"></script>

      <script src="/js/lib/mapbox-gl-draw/mapbox-gl-draw.js"></script>
      <link rel="stylesheet" href="/js/lib/mapbox-gl-draw/mapbox-gl-draw.css" />

      <script src="/js/lib/js-cookie/js.cookie.js"></script>

      <!-- Vex dialogs; see: https://github.hubspot.com/vex/ -->
      <script src="/js/lib/vex-4.1.0/dist/js/vex.combined.min.js"></script>
      <link rel="stylesheet" href="/js/lib/vex-4.1.0/dist/css/vex.css" />
      <link rel="stylesheet" href="/js/lib/vex-4.1.0/dist/css/vex-theme-plain.css" />

      <!-- GeoJSON extent library; see: https://github.com/mapbox/geojson-extent -->
      <script src="/js/lib/geojson-extent/geojson-extent.js"></script>

      <!-- LayerViewer library, providing the application logic -->
      <script src="/js/lib/Mapboxgljs.LayerViewer/src/layerviewer.js?220117"></script>
      <link rel="stylesheet" type="text/css" href="/js/lib/Mapboxgljs.LayerViewer/src/layerviewer.css?220117" />
      <script src="/js/lib/Mapboxgljs.LayerViewer/lib/geocoder.js"></script>

      <!-- Turf for measuring-->
      <script src='https://unpkg.com/@turf/turf@6/turf.min.js'></script>

      <!-- Chart.js -->
      <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>

      <!-- Map application and its config, implementing the LayerViewer library -->
      <script src="/.config.js"></script>
      <script src="/js/sdca.js?220117"></script>
      <link rel="stylesheet" type="text/css" href="/css/sdca.css" />
      <script>
        $(function () {
          sdca.initialise(config);
        });
      </script>




      <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds govuk-!-padding-0">
          <div id="map">

            <!-- Map will appear here -->

            <div id="geocoder" class="geocoder">
              <input type="text" name="location" autocomplete="off" placeholder="Search locations and move map"
                tabindex="1" spellcheck="false" />
            </div>

            <button class="govuk-button govuk-button--secondary filter-button" data-sdca-target-panel="data-layers"
              data-module="govuk-button" id="explore-data-layers">
              Explore data layers
            </button>

          </div>
        </div>

        <div class="govuk-grid-column-one-third govuk-!-padding-5" id="sdca-panel-container">

          <!-- Panels -->

          <!-- Data layers panel -->
          <div class="sdca-panel" id="data-layers" data-sdca-is-temp-panel="true">
            <a href="#" class="govuk-back-link" data-sdca-target-panel="false">Back</a>
            <h2 class="govuk-heading-l">Explore data layers</h2>
            <p class="govuk-body">Use this panel to select different data layers to better understand the context for
              your
              scheme.</p>
            <div class="govuk-hint">
              Select all that apply.
            </div>

            <div id="layerselector">

              <div class="govuk-accordion" data-module="govuk-accordion" id="accordion-default">
                <div class="govuk-accordion__section ">
                  <div class="govuk-accordion__section-header">
                    <h2 class="govuk-accordion__section-heading">
                      <span class="govuk-accordion__section-button" id="accordion-default-heading-1">
                        Land use
                      </span>
                    </h2>
                  </div>
                  <div id="accordion-default-content-1" class="govuk-accordion__section-content"
                    aria-labelledby="accordion-default-heading-1">

                    <div class="govuk-checkboxes" data-module="govuk-checkboxes">
                      <div class="govuk-checkboxes__item layertemplate">
                        <input class="govuk-checkboxes__input" id="show_template" name="show[]" type="checkbox"
                          value="template">
                        <label class="govuk-label govuk-checkboxes__label" for="show_template">
                          Template
                        </label>
                      </div>
                    </div>

                  </div>
                </div>

                <div class="govuk-accordion__section ">
                  <div class="govuk-accordion__section-header">
                    <h2 class="govuk-accordion__section-heading">
                      <span class="govuk-accordion__section-button" id="accordion-default-heading-2">
                        Transport data
                      </span>
                    </h2>
                  </div>
                  <div id="accordion-default-content-2" class="govuk-accordion__section-content"
                    aria-labelledby="accordion-default-heading-2">

                    <div class="govuk-checkboxes" data-module="govuk-checkboxes">
                      <div class="govuk-checkboxes__item">
                        <input class="govuk-checkboxes__input" id="show_trafficcounts" name="show[]" type="checkbox"
                          value="trafficcounts">
                        <label class="govuk-label govuk-checkboxes__label" for="show_trafficcounts">
                          Traffic counts
                        </label>
                      </div>
                      <div class="govuk-checkboxes__item">
                        <input class="govuk-checkboxes__input" id="show_publictransport" name="show[]" type="checkbox"
                          value="publictransport">
                        <label class="govuk-label govuk-checkboxes__label" for="show_publictransport">
                          Public transport
                        </label>
                      </div>
                    </div>

                  </div>
                </div>

                <div class="govuk-accordion__section ">
                  <div class="govuk-accordion__section-header">
                    <h2 class="govuk-accordion__section-heading">
                      <span class="govuk-accordion__section-button" id="accordion-default-heading-2">
                        Planning system data
                      </span>
                    </h2>
                  </div>
                  <div id="accordion-default-content-2" class="govuk-accordion__section-content"
                    aria-labelledby="accordion-default-heading-2">

                    <div class="govuk-checkboxes__item">
                      <input class="govuk-checkboxes__input" id="show_planningapplications" name="show[]"
                        type="checkbox" value="planningapplications">
                      <label class="govuk-label govuk-checkboxes__label" for="show_planningapplications">
                        Planning applications
                      </label>
                    </div>
                  </div>

                </div>
              </div>

            </div><!-- /#layerselector -->

          </div>


          <!-- Design scheme panel -->
          <div class="sdca-panel" id="design-scheme">
            <h2 class="govuk-heading-l">Design scheme</h2>
            <p class="govuk-body">To calculate the <a href="/methodology/">carbon impact of a scheme</a>, you can
              search for interventions like railway tracks, bridges, or stations.</p>

            <h2 class="govuk-heading-m">Current interventions</h2>
            <p class="govuk-body">Interventions you have drawn on the map will appear here. You can also <a href="#"> upload a GeoJSON file</a>, instead of drawing on the map.</p>

            <dl class="govuk-summary-list user-interventions-list">
              <!-- User interventions will be populated here-->
            </dl>

            <button class="govuk-button" data-module="govuk-button" data-sdca-target-panel="search-for-intervention" id="add-intervention">
              Add an intervention
            </button>

            <input id="geometry" name="loc_json" type="hidden" value="" />

            <h2 class="govuk-heading-m">When you're done</h2>
            <p class="govuk-body">When you have added your interventions to the map, you can calculate the results.</p>

            <button class="govuk-button" data-module="govuk-button" id="calculate">
              Calculate <div class="govuk-!-margin-left-1 loading-spinner"></div>
            </button>
          </div>


          <!-- Search for intervention panel -->
          <div class="sdca-panel" id="search-for-intervention">
            <div class="govuk-breadcrumbs">
              <ol class="govuk-breadcrumbs__list">
                <li class="govuk-breadcrumbs__list-item">
                  <a class="govuk-breadcrumbs__link" data-sdca-target-panel="design-scheme" href="#">Design scheme</a>
                </li>
                <li class="govuk-breadcrumbs__list-item">
                  <a class="govuk-breadcrumbs__link" href="#">Search
                    for intervention</a>
                </li>
              </ol>
            </div>

            <div class="govuk-form-group">
              <h1 class="govuk-label-wrapper"><label class="govuk-label govuk-label--l" for="event-name">
                  What type of intervention is this?
                </label>
              </h1>
              <input class="govuk-input autofocus" id="filter-interventions" name="filter-interventions" type="search">
            </div>

            <div class="govuk-accordion" data-module="govuk-accordion" id="interventions-accordion">

              <!-- Interventions will be populated here-->

            </div>
          </div>


          <!-- Draw intervention panel -->
          <div class="sdca-panel" id="draw-intervention">
            <div class="govuk-breadcrumbs">
              <ol class="govuk-breadcrumbs__list">
                <li class="govuk-breadcrumbs__list-item">
                  <a class="govuk-breadcrumbs__link" href="#" data-sdca-target-panel="design-scheme">Design scheme</a>
                </li>
                <li class="govuk-breadcrumbs__list-item">
                  <a class="govuk-breadcrumbs__link" href="#" data-sdca-target-panel="search-for-intervention">Search
                    for intervention</a>
                </li>
                <li class="govuk-breadcrumbs__list-item">
                  <a class="govuk-breadcrumbs__link" href="#" data-sdca-target-panel="draw-intervention">Draw
                    intervention on map</a>
                </li>
              </ol>
              </div>
              <h2 class="govuk-heading-l">Draw an intervention on the map</h2>

              <p class="govuk-body">Click on the map to draw the route. When you are finished, click the green button.
              </p>

              <dl class="govuk-summary-list">
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Mode
                  </dt>
                  <dd class="govuk-summary-list__value intervention-mode">

                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Intervention
                  </dt>
                  <dd class="govuk-summary-list__value intervention-name">

                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Total distance
                  </dt>
                  <dd class="govuk-summary-list__value distance">
                    0 km
                  </dd>
                </div>
              </dl>

              <div class="govuk-button-group">
                <button class="govuk-button draw line" data-module="govuk-button">
                Start new drawing on the map
              </button>
              <button class="govuk-button stop-drawing" data-module="govuk-button">
                Stop drawing
              </button>
              <button class="govuk-button govuk-button--warning" id="delete-intervention" data-module="govuk-button">
                Delete this intervention
              </button>
            </div>
            <button class="govuk-button drawing-complete" id="register-intervention" data-module="govuk-button"
              data-sdca-target-panel="design-scheme">
              I have finished designing this intervention
            </button>

            <br />
            <a class="govuk-link" href="#">Cancel adding this intervention</a>

          </div>


          <!-- View results panel -->
          <div class="sdca-panel" id="view-results">
            <a href="#" class="govuk-back-link" data-sdca-target-panel="design-scheme">Back to the design</a>
            <h2 class="govuk-heading-l">Scheme results</h2>

            <div class="govuk-tabs nested-tabs" data-module="govuk-tabs">

              <h2 class="govuk-tabs__title">
                Contents
              </h2>

              <ul class="govuk-tabs__list">
                <li class="govuk-tabs__list-item govuk-tabs__list-item--selected">
                  <a class="govuk-tabs__tab" href="#summary">
                    Summary
                  </a>
                </li>
                <li class="govuk-tabs__list-item">
                  <a class="govuk-tabs__tab" href="#emissions-by-type">
                    Emissions by type
                  </a>
                </li>
                <li class="govuk-tabs__list-item">
                  <a class="govuk-tabs__tab" href="#emissions-by-year">
                    Emissions by year
                  </a>
                </li>
              </ul>

              <div class="govuk-tabs__panel" id="summary">
                
                <div class="govuk-panel govuk-panel--confirmation govuk-!-margin-2">
                  <h1 class="govuk-panel__title netzero_compatible">
                    Net zero compatible?
                  </h1>
                  <div class="govuk-panel__body">
                    Payback time:<br><strong><span class="payback_time">?</span></strong>
                  </div>
                </div>

                <table class="govuk-table">
                  <thead class="govuk-table__head">
                    <tr class="govuk-table__row">
                      <th scope="col" class="govuk-table__header">Scheme performance</th>
                      <th scope="col" class="govuk-table__header"></th>
                    </tr>
                  </thead>
                  <tbody class="govuk-table__body">
                    <tr class="govuk-table__row">
                      <td class="govuk-table__cell">Whole life emissions</td>
                      <td class="govuk-table__cell emissions_whole_life">?</td>
                    </tr>
                    <tr class="govuk-table__row">
                      <td class="govuk-table__cell">Payback time</td>
                      <td class="govuk-table__cell payback_time">?</td>
                    </tr>
                    <tr class="govuk-table__row">
                      <td class="govuk-table__cell">Comments</td>
                      <td class="govuk-table__cell comments">?</td>
                    </tr>
                  </tbody>
                </table>

                <h2 class="govuk-heading-m">Use this data somewhere else</h2>
                <p class="govuk-body">The data you can see in this tool can be exported into a universal format called
                  JSON, which can be used in other places.</p>

                <div class="govuk-button-group">
                  <button class="govuk-button" data-module="govuk-button" id="export-data" data-sdca-export="all">
                    Export this data
                  </button>
                  <button class="govuk-button govuk-button--secondary" data-module="govuk-button" id="share-to-email">
                    Share by e-mail
                  </button>
                </div>

              </div>

              <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="emissions-by-type">

                <p class="govuk-body">Showing emissions by PAS 2080 category:</p>
                
                <div class="graph-container" style="height: 436px; width: 50%; min-width: 400px; max-width: 700px;">
                  <canvas class="emissions-chart" id="emissions-by-type-chart-high"></canvas>
                  <canvas class="emissions-chart" id="emissions-by-type-chart-average"></canvas>
                  <canvas class="emissions-chart" id="emissions-by-type-chart-low"></canvas>
                </div>

                <div class="govuk-form-group">
                  <label class="govuk-label" for="sort">
                    Graph type
                  </label>
                  <select class="govuk-select" id="emissions-by-type-select" name="sort">
                    <option value="high">High estimate</option>
                    <option value="average" selected>Average</option>
                    <option value="low">Low estimate</option>
                  </select>
                </div>
                <button class="govuk-button export-data" data-module="govuk-button" data-sdca-export="pas2080">
                  Export this data
                </button>

                <div class="pas2080">
                  <!-- GOVUK table will be placed here showing emissions by type-->
                </div>
              </div>

              <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="emissions-by-year">
                <div class="graph-container" style="height: 374px; width: 100%; min-width: 400px; max-width: 700px;">
                  <canvas id="emissions-by-year-chart"></canvas>
                </div>
                <button class="govuk-button export-data" data-module="govuk-button" data-sdca-export="timeseries">
                  Export this data
                </button>
                <div class="timeseries">
                  <!-- GOVUK table will be placed here showing emissions by year-->
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>

    </main>
  </div>

  <footer class="govuk-footer " role="contentinfo">
    <div class="govuk-width-container ">
      <div class="govuk-footer__meta govuk-!-padding-right-4 govuk-!-padding-left-4">
        <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">

          <svg aria-hidden="true" focusable="false" class="govuk-footer__licence-logo"
            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 483.2 195.7" height="17" width="41">
            <path fill="currentColor"
              d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145" />
          </svg>
          <span class="govuk-footer__licence-description">
            All content is available under the
            <a class="govuk-footer__link"
              href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/" rel="license">Open
              Government Licence v3.0</a>, except where otherwise stated
          </span>
        </div>
        <div class="govuk-footer__meta-item">
          
        </div>
        <img src="/images/leeds.png" width="200" alt="University of Leeds" />
      </div>
    </div>
  </footer>

  <script src="/javascript/govuk-frontend-4.0.0.min.js"></script>
</body>

</html>
